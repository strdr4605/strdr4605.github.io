{"pageProps":{"postData":{"title":"NPM: How to document your package.json scripts","date":"2022-03-27T00:00:00.000Z","description":"Let's see different ways you can document your npm scripts using README, comments in package.json, or using npx why package.","tags":["npm","node","tools"],"slug":"npm-how-to-document-your-package-json-scripts","contentHtml":"<p>As your project grows you add more scripts to package.json.\nWhen a new member joins the project (or maybe you come back after a break) it's hard to understand from the script itself,\nwhat it is doing and why it was created, especially when the script is 80 chars long with a lot of params and <code class=\"language-unknown\">&#x26;amp;&#x26;amp;</code>.</p>\n<p>Let's see what we do about this:</p>\n<h2>README.md</h2>\n<p>You could add documentation for the scripts in a section of the README.md file.</p>\n<div class=\"remark-highlight\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token title important\"><span class=\"token punctuation\">##</span> NPM scripts</span>\n\n<span class=\"token list punctuation\">-</span> <span class=\"token bold\"><span class=\"token punctuation\">**</span><span class=\"token content\">start</span><span class=\"token punctuation\">**</span></span>: Description for <span class=\"token code-snippet code keyword\">`npm start`</span> script\n<span class=\"token list punctuation\">-</span> <span class=\"token bold\"><span class=\"token punctuation\">**</span><span class=\"token content\">test</span><span class=\"token punctuation\">**</span></span>: Description for <span class=\"token code-snippet code keyword\">`npm test`</span> script\n...\n</code></pre></div>\n<p>üëçThis approach is nice because you can use the markdown rich text features. Also, the README file is the first file opened by a new member of the team.</p>\n<p>üôÅA downside of this approach is that when you see a script in package.json you need to open the README, then do back to package.json or terminal (to run the command).</p>\n<h2>package.json</h2>\n<p>Npm does not support <a href=\"https://json5.org/\">JSON5</a> for package.json that could allow comments in JSON for example in tsconfig.json.</p>\n<p>There is a popular question on StackOverflow on the topic:</p>\n<p><a href=\"https://stackoverflow.com/questions/14221579/how-do-i-add-comments-to-package-json-for-npm-install\">How do I add comments to package.json for npm install?</a></p>\n<p>You can read all proposed variants (and discussions) on StackOverflow. One option that could be ok is:</p>\n<div class=\"remark-highlight\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"package name\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"package description\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm install &#x26;&#x26; node server.js\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scriptsComments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Runs development build on a local server configured by server.js\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  ...\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>üëçThis approach is nice because script documentation stays closer to the script itself.</p>\n<p>üôÅThe downside: as your package.json grows with more scripts, dependencies, other tools configs it's very easy to get lost.</p>\n<h2>npx why</h2>\n<p><code class=\"language-unknown\">npx why</code> is a tool created to fix the problem of documenting package.json scripts.</p>\n<p>If we have to run the scripts from the terminal, why not have the documentation for the scripts in the terminal?</p>\n<p><img src=\"https://raw.githubusercontent.com/strdr4605/why/master/support/assets/demo.gif\" alt=\"npx why demo\"></p>\n<p><code class=\"language-unknown\">npx why --init</code> will create a <strong>package-why.json</strong> in the root of the project with all scripts from package.json and the default descriptions.</p>\n<p>After this, calling <code class=\"language-unknown\">npx why</code> will print all scripts and descriptions.</p>\n<p><code class=\"language-unknown\">npx why &#x26;lt;some script name&#x26;gt;</code> will print only description for <code class=\"language-unknown\">npm run &#x26;lt;some script name&#x26;gt;</code>.</p>\n<p>You could update the documention by passing a description to <code class=\"language-unknown\">npx why &#x26;lt;some script name&#x26;gt; &#x26;quot;&#x26;lt;script description&#x26;gt;&#x26;quot;</code>. Or changing <strong>package-why.json</strong> file directly.</p>\n<p>For better experience I suggest installing the package as a development dependency:</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> why --save-dev\n</code></pre></div>\n<p>üéâThis solution for documenting the script is nice because you access the docs from the terminal (where you have to use the script).\nAlso I am sure that with new updates and features the experience of using <code class=\"language-unknown\">why</code> will get better and better.</p>\n<p>üôÅThe downside: the process of documenting script is not so comfortable because you have to move between package-why.json and package.json files.</p>\n<p>Check out <a href=\"https://github.com/strdr4605/why#readme\"><code class=\"language-unknown\">npx why</code> package</a>.</p>\n"},"_superjson":{"values":{"postData.date":["Date"]}}},"__N_SSG":true}